{% extends "podcast_analyzer/app_base.html" %}
{% load i18n %}
{% block extratitle %}{% translate "Podcasts" %} - {% endblock %}
{% block breadcrumbs %}
  <ul>
    <li class="is-active"><a href="{% url 'podcast_analyzer:podcast-list' %}" aria-current="page">{% translate "Podcasts" %}</a></li>
  </ul>
{% endblock %}
{% block extra_controls %}
  <div class="level-item">
    <a class="button is-primary" href="{% url 'podcast_analyzer:podcast-create' %}">{% translate "Add podcast" %}</a>
  </div>
{% endblock %}
{% block content %}
  <h1 class="title">{% translate "Podcasts" %}</h1>
  <ul>
    {% for podcast in page_obj %}
      <li>
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64">
              <a href="{{ podcast.urls.view }}"><img src="{% if podcast.podcast_cached_cover_art %}{{ podcast.podcast_cached_cover_art.url }}{% else %}{% endif %}" alt="Podcast cover art for {{ podcast.title }}" /></a>
            </p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <strong><a href="{{ podcast.urls.view }}">{{ podcast.title }}</a></strong> <small>{% blocktranslate count counter=podcast.total_episodes %}1 episodes{% plural %}{{ counter }} episodes{% endblocktranslate %}</small>
                <br />
                <small>{% if podcast.seasons.count > 0 %}<strong>Seasons:</strong> {{ podcast.seasons.count }} | {% endif %}<strong>Total duration:</strong> {{ podcast.total_duration_timedelta }}</small>
              </p>
            </div>
          </div>
        </article>
      </li>
    {% empty %}
      <li>{% translate "There are no podcasts yet." %}</li>
    {% endfor %}
  </ul>

  {% include "podcast_analyzer/includes/pagination.html" %}

{% endblock %}
